<!--
    filtering method()
        .first()
            선택한 element 중 첫 번째 element를 선택
        .last()
            선택한 element 중 마지막 element를 선택
        .eq()
            선택한 element 중 전달받은 index에 해당하는 element를 선택
        .filter()
            선택한 element 중 전달받은 selector에 해당하거나 함수 호출 결과가 true인 element를 모두 선택
        .not()
            선택한 element 중 전달받은 selector에 해당하거나 함수 호출 결과가 true인 element를 제외한 나머지를 모두 선택
                => filter() method와 정반대로 동작하여 element를 선택
        .has()
            선택한 element 중 전달받은 selector에 해당하는 element를 child element로 가지고 있는 element를 모두 선택
        .is()
            선택한 element 중 전달받은 selector에 해당하는 element가 하나라도 존재하면 true를 반환
        .map()
            선택한 element 집합의 각 element마다 callback을 실행하고 반환값으로 구성된 jQuery object를 반환
        .slice()
            선택한 element 중 전달받은 index 범위에 해당하는 element만 선택
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery filtering</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
      $(function () {
        $('#firstBtn').on('click', function () {
          $('li')
            .first()
            // 선택한 <li> element 중 첫 번째 element만 선택
            .css({ border: '2px solid green' });
          // 해당 element의 CSS style을 변경
        });
        $('#lastBtn').on('click', function () {
          $('li')
            .last()
            // 선택한 <li> element 중 마지막 element만 선택
            .css({ border: '2px solid orange' });
          // 해당 element의 CSS style을 변경
        });
        $('#clockwiseBtn').on('click', function () {
          $('li')
            .eq(1)
            // 선택한 <li> element 중 두 번째 element만 선택
            .css({ border: '2px solid blue' });
          // 해당 element의 CSS style을 변경
        });
        $('#counterBtn').on('click', function () {
          $('li')
            .eq(-1)
            // 선택한 <li> element 중 뒤에서 첫 번째 element만 선택
            .css({ border: '2px solid yellow' });
          // 해당 element의 CSS style을 변경
        });
        $('#filter').on('click', function () {
          $('li')
            .filter(':odd')
            // 선택한 <li> element 중 index가 홀수인 element만 선택
            .css({ border: '2px solid green' });
          // 해당 element의 CSS style을 변경
        });
        $('#not').on('click', function () {
          $('li')
            .not(':lt(2)')
            // 선택한 <li> element 중 index가 2보다 작지 않은 element만 선택
            .css({ border: '2px solid green' });
          // 해당 element의 CSS style을 변경
        });
        $('#has').on('click', function () {
          $('li')
            .has('span')
            // 선택한 <li> element 중 descendant element로 <span> element를 가지는 element만 선택
            .css({ border: '2px solid green' });
          // 해당 element의 CSS style을 변경
        });
        $('#is').on('click', function () {
          if ($('span').parents().is('ul')) {
            // 선택한 <span> element의 ancestor element 중에서 <ul> element가 하나라도 존재하면 true를 반환
            $('#text').html(
              'span element의 ancestor에는 ul element도 존재합니다.'
            );
          }
        });
        $('#map').on('click', function () {
          const ids = $('li')
            .map(function () {
              return this.id;
            })
            // 선택한 <li> element마다 callback function을 실행하여 각 <li> element의 id 값을 반환
            .get() // 반환된 모든 id 값을 하나의 배열로 반환
            .join(); // 배열의 모든 element를 ,로 구분하는 하나의 문자열로 반환
          $('#text').html(ids);
        });
        $('#slice').on('click', function () {
          $('li')
            .slice(1)
            // 선택한 <li> element 중 index가 1 이상인 element만 선택
            .css({ border: '2px solid green' });
        });
      });
    </script>
  </head>
  <body>
    <h1>jQuery filtering</h1>
    <ul>
      <li id="one"><span>첫 번째 아이템</span>이에요!</li>
      <li id="two"><span>두 번째 아이템</span>이에요!</li>
      <li id="three">세 번째 아이템이에요!</li>
      <li id="four">네 번째 아이템이에요!</li>
    </ul>
    <p>jQuery에서 index는 언제나 0부터 시작합니다!</p>
    <button id="firstBtn">first()</button>
    <button id="lastBtn">last()</button>
    <button id="clockwiseBtn">eq(1)</button>
    <button id="counterBtn">eq(-1)</button>
    <button id="filter">index가 홀수인 element</button>
    <button id="not">index가 2보다 작지 않은 element</button>
    <button id="has">descendant element로 span element를 가지는 element</button>
    <button id="is">
      span element의 ancestor element에는 ul element도 존재하는가?
    </button>
    <button id="map">element의 모든 id 값을 출력</button>
    <button id="slice">index가 1 이상인 element</button>
    <p id="text"></p>
  </body>
</html>
