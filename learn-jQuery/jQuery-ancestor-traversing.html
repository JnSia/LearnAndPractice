<!--
    트리 탐색 (tree traversing)
        특정 요소로부터 다른 요소들과의 관계를 통해 원하는 요소까지 DOM tree를 검색해 나아가는 과정

    조상(ancestor) 요소의 탐색
        DOM tree에서 특정 요소의 부모 요소를 포함한 상위의 요소를 탐색
        
        .parent()
            선택한 요소의 부모 요소를 선택
                => selector를 인수로 전달하여 해당하는 부모 요소만을 선택
        .parents()
            선택한 요소의 조상 요소를 모두 선택
        .parentsUntil()
            선택한 요소의 조상 요소 중 전달받은 selector에 해당하는 요소 이전까지의 요소를 모두 선택
                => selector를 인수로 전달하지 않으면 선택한 요소의 조상 요소를 모두 선택
        .closet()
            자신을 포함한 조상 요소 중 전달받은 selector에 해당하는 요소의 집합에서 첫 번째 요소를 선택
                => 해당 요소의 조상 요소와 해당 요소 자신까지 검사
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery ancestor traversing</title>
    <style>
      .container * {
        display: block;
        border: 1px solid lightgray;
        padding: 5px;
        margin: 15px;
      }
    </style>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
      $(function () {
        $('#parent').on('click', function () {
          $('p')
            .parent()
            // <p> element의 parent element를 선택
            .css({ border: '2px solid red' });
          // 해당 element의 CSS style을 변경
        });
        $('#parents').on('click', function () {
          $('p')
            .parents('div')
            // <p> element의 ancestor element 중 <div> element를 모두 선택
            .css({ border: '2px solid red' });
          // 해당 element의 CSS style을 변경
        });
        $('#parentsUntil').on('click', function () {
          $('p')
            .parentsUntil('div')
            // <p> element의 ancestor element 중 첫 번째 <div> element의 바로 이전까지의 element를 모두 선택
            .css({ border: '2px solid red' });
          // 해당 element의 CSS style을 변경
        });
        $('#closest').on('click', function () {
          $('#origin')
            .closest('p')
            // id가 "origin"인 element 자신과 ancestor element 중 첫 번째 <div> element의 바로 이전까지의 element를 모두 선택
            .css({ border: '2px solid green' });
        });
      });
    </script>
  </head>
  <body>
    <h1>tree traversing</h1>
    <div class="container">
      <div>
        div element
        <ul>
          ul element
          <li>li element</li>
          <li>
            li element
            <p id="origin">
              p element (standard)
              <span>span element</span>
            </p>
          </li>
          <li>li element</li>
        </ul>
      </div>
    </div>
    <button id="parent">p element의 parent element</button>
    <button id="parents">p element의 ancestor element</button>
    <button id="parentsUntil">p element의 ancestor element (until)</button>
    <button id="closest">closest() method</button>
  </body>
</html>
