<!--
    etc traversing method
        .add()
            선택한 element의 잡합에 전달받은 element를 추가
        .each()
            선택한 element의 집합의 element마다 전달받은 callback function을 실행
        .end()
            마지막으로 실행한 method의 실행 전 상태로 선택한 element의 집합을 복원
        .offsetParent()
            선택한 element를 위치시킬 때 기준으로 사용된 ancestor element를 선택
              => relative, fixed, absolute position으로 설정된 element가 위치를 정할 때 기준이 될 수 있음
        .contents()
            선택한 요소의 child element를 텍스트 노드와 주석 노드까지 모두 포함하여 선택
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery etc traversing</title>
    <style>
      .boldFont {
        color: green;
        font-weight: bold;
      }
      .container * {
        display: block;
        border: 1px solid lightgray;
        padding: 5px;
        margin: 15px;
      }
    </style>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
      $(function () {
        $('#add').on('click', function () {
          $('li')
            .add('p')
            // 선택한 <li> element의 집합에 <p> element를 추가
            .css({ border: '2px solid green' });
          // 해당 element의 CSS style을 변경
        });
        $('#each').on('click', function () {
          $('li').each(function () {
            // 선택한 <li> element 집합의 각 <li> element를 선택
            $(this).toggleClass('boldFont');
            // 각 <li> element마다 class를 추가하거나 제거
          });
        });
        $('#end').on('click', function () {
          $('#divBox')
            .find('p')
            // id가 "divBox"인 요소의 descent element 중 <p> element를 모두 선택
            .end()
            // 선택된 element의 집합을 find() method 실행 전으로 복원
            .css('border', '2px solid green');
          // id가 "divBox"인 요소의 CSS style을 설정
        });
        $('#offsetParent').on('click', function () {
          $('#para')
            .offsetParent()
            // id가 "para"인 element가 위치할 때 기준이 된 ancestor element를 선택
            .css({ border: '2px solid red' });
          // 해당 element의 CSS style을 변경
        });
        $('#contents').on('click', function () {
          $('iframe')
            .contents()
            // <iframe> element의 child element를 모두 선택
            .find('svg')
            .css('border', '2px solid red');
          // child element 중 <a> element를 모두 선택하여 CSS style을 설정
        });
      });
    </script>
  </head>
  <body>
    <h1>.add()와 .each() method</h1>
    <ul>
      <li>첫 번째 아이템이에요!</li>
      <li>두 번째 아이템이에요!</li>
      <li>세 번째 아이템이에요!</li>
    </ul>
    <p>첫 번째 단락이에요!</p>
    <button id="add">li element 집합에 p element를 추가</button>
    <button id="each">class 추가 및 제거</button>

    <hr />

    <h1>.end() method</h1>
    <div class="container">
      <div id="divBox">
        div element
        <p>p element</p>
      </div>
    </div>
    <button id="end">div element select</button>

    <hr />

    <h1>.offsetParent() method</h1>
    <div class="container">
      <div>
        div element
        <ul style="position: relative">
          ul element
          <li>li element</li>
          <li>
            li element
            <p id="para">
              p element (standard)
              <span>span element</span>
            </p>
          </li>
          <li>li element</li>
        </ul>
      </div>
    </div>
    <button id="offsetParent">element 위치 정보</button>

    <hr />

    <h1>.contents() method</h1>
    <button id="contents">a element의 배경색 변경!</button>
    <br />
    <iframe src="../test-map.html" style="width: 95%; height: 400px"></iframe>
  </body>
</html>
